<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;1,300&display=swap" rel="stylesheet">
    <!-- <script src="viewcartscript.js" type="module"></script> -->
</head>
<body>
    <div class="container-fluid" style="border-bottom: 1px solid brown;display: flex;justify-content: space-between;">
        <h1>
            Checkout <small class="text-body-secondary">Page</small>
        </h1>
        <nav class="navbar navbar-expand-lg bg-body-tertiary ">
            <div class="container-fluid">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="#"><ion-icon name="cart-outline"></ion-icon></a>
                  </li>
                </ul>
                <ul class="navbar-nav" style="margin-left: 1rem;padding-bottom: 0.3rem;">
                    <li class="nav-item">
                        <a class="nav-link" id="no_of_items" href="index.html">Back</a>
                      </li>
                </ul>
            </div>
        </nav>
    </div>

    <div class="container-fluid">
        <div class="product-cards">

        </div>
    </div>
    <h1 class="totalBill">
    
    </h1>
   
   <!-- <script type="module">
    import fetch_ProductData from './script.js';
    console.log("success");
    // console.log(fetch_ProductData())
    var data = await fetch_ProductData();
    console.log(data.products.map((e)=>{
        console.log(e.images[0])
    }))
</script> -->
   <!-- <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script> -->
    <script type="module">
        // import {cartList} from "./script.js";
        const mydata = JSON.parse(localStorage.getItem('cartAddedItems'));
        console.log(mydata)
// console.log("Working")

// var fetch_ProductData = async ()=>{
//     var products = await fetch('https://dummyjson.com/products');
//     var products_json = await products.json();
//     return products_json;
//     // var product_data = products_json;
//     // return product_data;
// }

// var data = await fetch_ProductData();//since the async function always returns promise
// var productData = data.products;

// var cart = document.getElementById("no_of_items")

let productDom = document.getElementsByClassName('product-cards')

var total = 0;

for(let i=0;i<mydata.length;i++){
    total = total + mydata[i].price;
}

for( let i=0;i<mydata.length;i++){

    console.log("From" + mydata.length)

    let card_outline = document.createElement('div')
    card_outline.setAttribute("class","card")

    let image = document.createElement('img')
    image.setAttribute("src",mydata[i].images[0])
    image.setAttribute("alt",mydata[i].brand)
    image.setAttribute("class","card-img-top")

    let card_body = document.createElement('div')
    card_body.setAttribute("class","card-body");

    let heading = document.createElement('h5')
    heading.setAttribute("class","card-title");
    heading.textContent = mydata[i].title;

    let subtitle = document.createElement('p')
    subtitle.setAttribute("class","card-text");
    subtitle.textContent = mydata[i].description;

    // let button = document.createElement('a')
    // button.setAttribute("class","btn btn-primary")
    // button.textContent="Add to cart";
    // button.onclick= function (){
    //     console.log("clicked")
    //     cartList.push(cartList[i])
    //     // console.log(productData[i].id)
    //     cart.textContent = cartList.length;
    //     cart.setAttribute("style","background:yellow")
    // }

    productDom[0].appendChild(card_outline)
    card_outline.append(image)
    card_outline.append(card_body)
    // card_body.append(heading,subtitle,button)
    card_body.append(heading,subtitle)
}

var totalshow = document.getElementsByClassName('totalBill')
 totalshow.textContent = total
    </script>


</body>
</html>